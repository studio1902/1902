1655981027a:5:{s:7:"wrapped";s:24929:"<pre><code data-theme='cobalt2' data-lang='javascript' class='torchlight has-highlight-lines' style='background-color: #193549; --theme-selection-background: #027dff;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #0088FF;">// This implements `StyleImageInterface` to draw a pulsing dot icon on the map.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">pulsingDot</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">{</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #9EFFFF;">    width</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">200</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #9EFFFF;">    height</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">200</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #9EFFFF;">    data</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">new</span><span style="color: #9EFFFF;"> </span><span style="color: #80FFBB;">Uint8Array</span><span style="color: #E1EFFF;">(size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">4</span><span style="color: #E1EFFF;">),</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #E1EFFF;">    </span><span style="color: #0088FF;">// When the layer is added to the map, get the rendering context for the map canvas.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #9EFFFF;">    </span><span style="color: #FFC600;">onAdd</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">function</span><span style="color: #9EFFFF;"> </span><span style="color: #FFEE80;">()</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">{</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">canvas</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">document.</span><span style="color: #FFC600;">createElement</span><span style="color: #E1EFFF;">(</span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">canvas</span><span style="color: #92FC79;">&#39;</span><span style="color: #E1EFFF;">)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">canvas.width</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">canvas.height</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #9EFFFF;">        </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.context</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">canvas.</span><span style="color: #FFC600;">getContext</span><span style="color: #E1EFFF;">(</span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">2d</span><span style="color: #92FC79;">&#39;</span><span style="color: #E1EFFF;">)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #9EFFFF;">    </span><span style="color: #E1EFFF;">},</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #E1EFFF;">    </span><span style="color: #0088FF;">// Call once before every frame where the icon will be used.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #9EFFFF;">    </span><span style="color: #FFC600;">render</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">function</span><span style="color: #9EFFFF;"> </span><span style="color: #FFEE80;">()</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">{</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">duration</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">1200</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(performance.</span><span style="color: #FFC600;">now</span><span style="color: #E1EFFF;">()</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">%</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">duration)</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">duration</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">radius</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">)</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #9EFFFF;">.</span><span style="color: #FF628C;">3</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">outerRadius</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">)</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #9EFFFF;">.</span><span style="color: #FF628C;">7</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">+</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">radius</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">22</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">context</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.context</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">23</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">24</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Draw the outer circle.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">25</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">clearRect</span><span style="color: #E1EFFF;">(</span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width,</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">26</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">beginPath</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">27</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">arc</span><span style="color: #E1EFFF;">(</span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">outerRadius,</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #80FFBB;">Math</span><span style="color: #E1EFFF;">.</span><span style="color: #80FFBB;">PI</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">28</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.fillStyle</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #3AD900;">`rgba(255, 200, 200, </span><span style="color: #FFEE80;">${</span><span style="color: #FF628C;">1</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">-</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t</span><span style="color: #FFEE80;">}</span><span style="color: #3AD900;">)`</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">29</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">fill</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">30</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">31</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Draw the inner circle.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">32</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">beginPath</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">33</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">arc</span><span style="color: #E1EFFF;">(</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">34</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">35</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">36</span><span style="color: #9EFFFF;">            </span><span style="color: #E1EFFF;">radius,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">37</span><span style="color: #9EFFFF;">            </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">38</span><span style="color: #9EFFFF;">            </span><span style="color: #80FFBB;">Math</span><span style="color: #E1EFFF;">.</span><span style="color: #80FFBB;">PI</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">39</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">)</span></div><div class='line line-highlight line-has-background' style='background-color: #1F4662'><span style="color:#c6c6c6; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">40</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.fillStyle</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">#4C2D6D</span><span style="color: #92FC79;">&#39;</span><span style="color: #9EFFFF;"> </span></div><div class='line line-highlight line-has-background' style='background-color: #1F4662'><span style="color:#c6c6c6; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">41</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.strokeStyle</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">#B98BE9</span><span style="color: #92FC79;">&#39;</span></div><div class='line line-highlight line-has-background' style='background-color: #1F4662'><span style="color:#c6c6c6; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">42</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.lineWidth</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">+</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">4</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(</span><span style="color: #FF628C;">1</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">-</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">43</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">fill</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">44</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">stroke</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">45</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">46</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Update this image&#39;s data with data from the canvas.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">47</span><span style="color: #9EFFFF;">        </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.data</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">getImageData</span><span style="color: #E1EFFF;">(</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">48</span><span style="color: #9EFFFF;">            </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">49</span><span style="color: #9EFFFF;">            </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">50</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">51</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">52</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">).data</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">53</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">54</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Continuously repaint the map, resulting in the smooth animation of the dot.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">55</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">map.</span><span style="color: #FFC600;">triggerRepaint</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">56</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">57</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Return `true` to let the map know that the image was updated.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">58</span><span style="color: #9EFFFF;">        </span><span style="color: #FF9D00;">return</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">true</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">59</span><span style="color: #9EFFFF;">    </span><span style="color: #E1EFFF;">}</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">60</span><span style="color: #E1EFFF;">}</span></div></code></pre>";s:11:"highlighted";s:24748:"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #0088FF;">// This implements `StyleImageInterface` to draw a pulsing dot icon on the map.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">pulsingDot</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">{</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #9EFFFF;">    width</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">200</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #9EFFFF;">    height</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">200</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #9EFFFF;">    data</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">new</span><span style="color: #9EFFFF;"> </span><span style="color: #80FFBB;">Uint8Array</span><span style="color: #E1EFFF;">(size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">4</span><span style="color: #E1EFFF;">),</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #E1EFFF;">    </span><span style="color: #0088FF;">// When the layer is added to the map, get the rendering context for the map canvas.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #9EFFFF;">    </span><span style="color: #FFC600;">onAdd</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">function</span><span style="color: #9EFFFF;"> </span><span style="color: #FFEE80;">()</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">{</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">canvas</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">document.</span><span style="color: #FFC600;">createElement</span><span style="color: #E1EFFF;">(</span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">canvas</span><span style="color: #92FC79;">&#39;</span><span style="color: #E1EFFF;">)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">canvas.width</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">canvas.height</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #9EFFFF;">        </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.context</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">canvas.</span><span style="color: #FFC600;">getContext</span><span style="color: #E1EFFF;">(</span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">2d</span><span style="color: #92FC79;">&#39;</span><span style="color: #E1EFFF;">)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #9EFFFF;">    </span><span style="color: #E1EFFF;">},</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #E1EFFF;">    </span><span style="color: #0088FF;">// Call once before every frame where the icon will be used.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #9EFFFF;">    </span><span style="color: #FFC600;">render</span><span style="color: #E1EFFF;">:</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">function</span><span style="color: #9EFFFF;"> </span><span style="color: #FFEE80;">()</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">{</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">duration</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">1200</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(performance.</span><span style="color: #FFC600;">now</span><span style="color: #E1EFFF;">()</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">%</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">duration)</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">duration</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">radius</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">)</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #9EFFFF;">.</span><span style="color: #FF628C;">3</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">outerRadius</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(size</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">)</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #9EFFFF;">.</span><span style="color: #FF628C;">7</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">+</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">radius</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">22</span><span style="color: #9EFFFF;">        </span><span style="color: #FFC600;">const</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">context</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.context</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">23</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">24</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Draw the outer circle.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">25</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">clearRect</span><span style="color: #E1EFFF;">(</span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width,</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">26</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">beginPath</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">27</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">arc</span><span style="color: #E1EFFF;">(</span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">outerRadius,</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span><span style="color: #9EFFFF;"> </span><span style="color: #80FFBB;">Math</span><span style="color: #E1EFFF;">.</span><span style="color: #80FFBB;">PI</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">28</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.fillStyle</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #3AD900;">`rgba(255, 200, 200, </span><span style="color: #FFEE80;">${</span><span style="color: #FF628C;">1</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">-</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t</span><span style="color: #FFEE80;">}</span><span style="color: #3AD900;">)`</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">29</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">fill</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">30</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">31</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Draw the inner circle.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">32</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">beginPath</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">33</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">arc</span><span style="color: #E1EFFF;">(</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">34</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">35</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">/</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">36</span><span style="color: #9EFFFF;">            </span><span style="color: #E1EFFF;">radius,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">37</span><span style="color: #9EFFFF;">            </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">38</span><span style="color: #9EFFFF;">            </span><span style="color: #80FFBB;">Math</span><span style="color: #E1EFFF;">.</span><span style="color: #80FFBB;">PI</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">39</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">)</span></div><div class='line line-highlight line-has-background' style='background-color: #1F4662'><span style="color:#c6c6c6; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">40</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.fillStyle</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">#4C2D6D</span><span style="color: #92FC79;">&#39;</span><span style="color: #9EFFFF;"> </span></div><div class='line line-highlight line-has-background' style='background-color: #1F4662'><span style="color:#c6c6c6; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">41</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.strokeStyle</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #92FC79;">&#39;</span><span style="color: #A5FF90;">#B98BE9</span><span style="color: #92FC79;">&#39;</span></div><div class='line line-highlight line-has-background' style='background-color: #1F4662'><span style="color:#c6c6c6; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">42</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.lineWidth</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">2</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">+</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">4</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">*</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">(</span><span style="color: #FF628C;">1</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">-</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">t)</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">43</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">fill</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">44</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">stroke</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">45</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">46</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Update this image&#39;s data with data from the canvas.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">47</span><span style="color: #9EFFFF;">        </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.data</span><span style="color: #9EFFFF;"> </span><span style="color: #FF9D00;">=</span><span style="color: #9EFFFF;"> </span><span style="color: #E1EFFF;">context.</span><span style="color: #FFC600;">getImageData</span><span style="color: #E1EFFF;">(</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">48</span><span style="color: #9EFFFF;">            </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">49</span><span style="color: #9EFFFF;">            </span><span style="color: #FF628C;">0</span><span style="color: #E1EFFF;">,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">50</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.width,</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">51</span><span style="color: #9EFFFF;">            </span><span style="color: #FB94FF;">this</span><span style="color: #E1EFFF;">.height</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">52</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">).data</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">53</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">54</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Continuously repaint the map, resulting in the smooth animation of the dot.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">55</span><span style="color: #9EFFFF;">        </span><span style="color: #E1EFFF;">map.</span><span style="color: #FFC600;">triggerRepaint</span><span style="color: #E1EFFF;">()</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">56</span>&nbsp;</div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">57</span><span style="color: #E1EFFF;">        </span><span style="color: #0088FF;">// Return `true` to let the map know that the image was updated.</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">58</span><span style="color: #9EFFFF;">        </span><span style="color: #FF9D00;">return</span><span style="color: #9EFFFF;"> </span><span style="color: #FF628C;">true</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">59</span><span style="color: #9EFFFF;">    </span><span style="color: #E1EFFF;">}</span></div><div class='line'><span style="color:#aaa; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">60</span><span style="color: #E1EFFF;">}</span></div>";s:6:"styles";s:65:"background-color: #193549; --theme-selection-background: #027dff;";s:7:"classes";s:30:"torchlight has-highlight-lines";s:5:"attrs";a:2:{s:10:"data-theme";s:7:"cobalt2";s:9:"data-lang";s:10:"javascript";}}