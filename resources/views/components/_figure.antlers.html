{{#
	@name Figure
	@desc The figure component. A sizeable image rendered in a figure tag with optional caption.
    @set page.article.figure
#}}

<!-- /components/_figure.antlers.html -->
<figure
    class="
        not-prose
        !my-4
        {{ switch(
            (size == 'md') => 'size-md',
            (size == 'lg') => 'size-lg',
            (size == 'xl') => 'size-xl',
            () => 'size-md'
        )}}
    "
>
    {{ browser_frame ?= { partial:components/title_bar } }}
    {{
        partial:components/picture
        :image="image"
        class="
            w-full
            { style === 'bw' ?= 'grayscale' }
            { browser_frame ?= 'border border-primary dark:border-secondary' }
        "
        cover="false"
        lazy="true"
        sizes="
            { switch(
                (size == 'md') => '(min-width: 768px) 55vw, 90vw',
                (size == 'lg') => '(min-width: 768px) 75vw, 90vw',
                (size == 'xl') => '90vw',
                () => '100vw'
            )}
        "
    }}

    {{ partial:typography/caption as="figcaption" }}
</figure>
<!-- End: /components/_figure.antlers.html -->
