{{#
	@name Project
	@desc The Project page builder block.
    @set page.page_builder.project
#}}

<!-- /page_builder/_project.antlers.html -->
{{
    project = block:project
        ? block:project
        : ({ collection:projects sort="date:desc" limit="1" } | first)
}}
<a
    x-data
    href="{{ project:url }}"
    :aria-labelledby="$id('project-title')"
    draggable="false"
    x-id="['project-title']"
    class="fluid-container grid md:grid-cols-12 md:gap-8 md:pointer-events-none group"
>
    <article class="relative md:col-span-7 md:col-start-1 md:row-span-4 md:row-start-2 border border-b-0 md:border-b border-primary dark:border-secondary p-6 pb-12 md:p-8 flex flex-col gap-y-8 justify-between">
        {{ partial:components/project_content }}
        <div class="absolute inset-0 bg-primary dark:bg-secondary p-6 pb-12 md:p-8 flex flex-col gap-y-8 justify-between motion-safe:transition-[clip-path] motion-safe:duration-[800ms] ease-out [clip-path:polygon(0_0,0_0,0_100%,0_100%)] group-hover:[clip-path:polygon(0_0,100%_0,100%_100%,0_100%)]" aria-hidden="true">
            {{ partial:components/project_content color="text-white" }}
        </div>
    </article>

    <div class="relative -mt-6 md:mt-0 md:mb-8 md:col-span-7 md:col-start-6 md:row-span-3 md:row-start-1 motion-safe:transition motion-safe:duration-[800ms] ease-out group-hover:md:-rotate-1">
        <div class="flex space-x-1 items-center w-full h-8 px-3 rounded-t-lg border border-b-0 border-primary dark:border-secondary bg-white dark:bg-neutral">
            <div class="w-3 h-3 rounded-full border border-primary dark:border-secondary"></div>
            <div class="w-3 h-3 rounded-full border border-primary dark:border-secondary"></div>
            <div class="w-3 h-3 rounded-full border border-primary dark:border-secondary"></div>
        </div>
        <figure class="aspect-w-4 aspect-h-3 border border-primary dark:border-secondary">
            {{ partial:components/picture :image="project:image" cover="true" lazy="true" sizes="(min-width: 768px) 75vw, 90vw"  }}
        </figure>
    </div>
    <div class="hidden md:block col-span-5 col-start-8 row-start-4 row-span-1 place-self-end pointer-events-auto">
        {{ partial:components/button as="span" class="cursor-pointer" faux="true" label="{ trans:strings.projects_view }" }}
    </div>
</a>
<!-- End: /page_builder/_project.antlers.html -->
